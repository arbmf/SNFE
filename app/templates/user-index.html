{% extends "layout.html" %}
{% block content%}
    <div style="background-color: #FAFAFA" >
        <h1>
            <a href="{{ url_for('main.home',order='time') }}" class="btn  {% if active == 'home' %} btn-primary activenav{% endif %}">
                <div style="color: black;font-size: 20px; {% if active == 'home' %} color:white; {% endif %}" >
                    Posts
                </div>
            </a>

            <a href="{{ url_for('main.family') }}" class="btn {% if active == 'family' %} btn-primary activenav {% endif %}">
                <div style="color: black;font-size: 20px;{% if active == 'family' %} color:white; {% endif %}">
                    Family
                </div>
            </a>

            <a href="{{ url_for('main.chatroom') }}" class="btn {% if active == 'chatroom' %} btn-primary  activenav {% endif %}">
                <div style="color: black;font-size: 20px;{% if active == 'chatroom' %} color:white; {% endif %}" >
                    Chat Rooms
                </div>
            </a>

            <a href="{{ url_for('main.group') }}" class="btn {% if active == 'group' %}btn-primary  activenav {% endif %}">
                <div style="color: black;font-size: 20px;{% if active == 'group' %} color:white; {% endif %}" >
                    Groups
                </div>
            </a>

            <a href="{{ url_for('main.dating') }}" class="btn  {% if active == 'dating' %}btn-primary  activenav {% endif %}">
                <div style="color: black;font-size: 20px;{% if active == 'dating' %} color:white; {% endif %}" >
                    Dating
                </div>
            </a>

            <a href="{{ url_for('main.question') }}" class="btn  {% if active == 'news' %} btn-primary  activenav {% endif %}">
                <div style="color: black;font-size: 20px;{% if active == 'news' %} color:white; {% endif %}" >
                    Question/Answers
                </div>
            </a>
        </h1>
    </div>
<div style = "position:relative;color: green; height: 40px;">
    <a class="prev" style="left:30%;" onclick="plusSlides(-1)">
            &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&#10094; Previous Post &emsp;&emsp;&emsp;&emsp;&emsp;
    </a>
    <a href="{{ url_for('main.home',order='time') }}" class="btn  {% if subactive == 'time' %} btn-green activenav{% endif %}">
                <div style="color: black;font-size: 17px; {% if subactive == 'time' %} color:white; {% endif %}" >
                    New
                </div>
            </a>
    <a href="{{ url_for('main.home',order='popularity') }}" class="btn  {% if subactive == 'popularity' %} btn-green activenav{% endif %}">
                <div style="color: black;font-size: 17px; {% if subactive == 'popularity' %} color:white; {% endif %}" >
                    Popular
                </div>
            </a>
    <a class="next" style="right:30%;" onclick="plusSlides(1)">
            &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;Next Post &#10095;
    </a>
</div>
<div class="container" style="padding-left:250px;padding-top: 30px;">

    <div class="row" style=" margin-top: -52px;">
        <section class="my-5 col-xl-9 card" style="background-color: white; padding-top: 10px;">
        <hr>
            {% if posts %}

                <div class="slideshow-container">

                    {% for post,like in posts.items() %}
                        <div class="mySlides">
                        <a href="{{ url_for('main.user_profile', email=post.Author.Email) }}">
                                    <div class="font-weight-bold mb-3" style="font-size: 15px;"><img style="max-width: 30px; margin-right: 10px;"
                                    src="{{ url_for('static', filename='profile_pictures/' + post.Author.ProfilePicture) }}"
                                    class="img-fluid z-depth-1 rounded-circle"
                                    alt="Responsive image">{{ post.Author.FirstName }}
                                    {{ post.Author.LastName }} |
                                {{ post.DatePosted.strftime('%m/%d/%Y') }}</div>
                                </a>
                        <div class="row">
                            {% if post.ImageFile %}
                                <div class="col-lg-5 col-xl-4">
                                    <div class="view overlay rounded z-depth-1-half mb-lg-0 mb-4">
                                        <img class="img-fluid" src="{{ url_for('static', filename='post_images/' +
                                        post.ImageFile) }}" alt="Post Image">
                                        <a href="{{ url_for('posts.post', postID=post.id) }}">
                                            <div class="mask rgba-white-slight"></div>
                                        </a>
                                    </div>
                                 </div>
                            {% endif %}
                            <div class="col-lg-7 col-xl-8">
                                <a href="{{ url_for('posts.post', postID=post.id) }}" style="color: black;">
                                    <h5 class="font-weight-bold mb-3">{{ post.Title }} <p style="font-size: 15px;color: indigo;">{{ like }} likes</p></h5>
                                </a>
                                {% if post.Content[:100] %}
                                    <p class="dark-grey-text">{{ post.Content[:100] + (post.Content[100:] and '...') }}</p>
                                {% endif %}


                            </div>
                        </div>
                        <hr class="my-5">
                        </div>
               {% endfor %}
                </div>
                </div>
            {% else %}
                <img src="{{ url_for('static', filename='socialize.png') }}" alt="">
                <h3 class=" text-center">You don't have any friends/following.</h3>
            {% endif %}
        </section>
        <div> &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;
                <a href="{{ url_for('posts.create_post') }}" class="btn btn-primary waves-effect">
                <div style="font-size: 20px">
                    Create a Post
                    </div>
                </a>
        </div>
    </div>

{% endblock %}
